{% extends "base.html" %}

{% block title %}Print QR Codes - Simple{% endblock %}

{% block content %}
<div class="container">
    <div class="no-print">
        <h1>üñ®Ô∏è Print QR Codes</h1>
        <p>QR Size: {{ qr_size_mm }}mm | Cards per row: {{ cards_per_row }}</p>
        <button onclick="window.print()" class="btn btn-primary">üñ®Ô∏è Print</button>
    </div>

    <div class="print-area">
        <h2>Personnel</h2>
        <div class="qr-grid">
            {% for qr in personnel_qrcodes %}
            <div class="qr-card">
                <div class="qr-id">ID: {{ qr.reference_id }}</div>
                <div class="qr-name">{{ qr.name }}</div>
                <img src="{{ qr.qr_image.url }}" class="qr-image" alt="QR Code">
                <div class="badge">PERSONNEL</div>
            </div>
            {% endfor %}
        </div>

        <h2>Items</h2>
        <div class="qr-grid">
            {% for qr in item_qrcodes %}
            <div class="qr-card">
                <div class="qr-id">ID: {{ qr.reference_id }}</div>
                <div class="qr-name">{{ qr.name }}</div>
                <img src="{{ qr.qr_image.url }}" class="qr-image" alt="QR Code">
                <div class="badge">ITEM</div>
            </div>
            {% endfor %}
        </div>
    </div>
</div>

<style>
.qr-grid {
    display: flex;
    flex-wrap: wrap;
    gap: 10mm;
}

.qr-card {
    width: {{ card_width_mm }}mm;
    height: {{ card_height_mm }}mm;
    border: 2px solid black;
    padding: 3mm;
    text-align: center;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    page-break-inside: avoid;
}

.qr-image {
    width: {{ qr_size_mm }}mm;
    height: {{ qr_size_mm }}mm;
    margin: auto;
}

.qr-id {
    font-size: 11pt;
    font-weight: bold;
    text-align: left;
}

.qr-name {
    font-size: 12pt;
    font-weight: bold;
}

.badge {
    font-size: 10pt;
    background: #f0f0f0;
    padding: 2px 8px;
    border: 1px solid black;
}

@media print {
    .no-print { display: none !important; }
    body { margin: 0; }
    .container { width: 100%; max-width: none; margin: 0; padding: 0; }
    .print-area { padding: 15mm; }
}
</style>
{% endblock %}