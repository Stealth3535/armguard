# ============================================================
# ArmGuard Environment Configuration
# ============================================================
# Copy this file to .env and fill in your values
# NEVER commit .env to version control!

# ============================================================
# Django Core Settings
# ============================================================

# Django Secret Key (CRITICAL: Generate new one for production!)
# Generate with: python -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())"
DJANGO_SECRET_KEY=your-secret-key-here-change-this-in-production

# Debug mode (True for development, False for production)
DJANGO_DEBUG=True

# Django Settings Module
# Use 'core.settings' for development, 'core.settings_production' for production
DJANGO_SETTINGS_MODULE=core.settings

# Allowed hosts (comma-separated, no spaces)
# Example: DJANGO_ALLOWED_HOSTS=yourdomain.com,www.yourdomain.com,127.0.0.1
DJANGO_ALLOWED_HOSTS=127.0.0.1,localhost

# CSRF Trusted Origins (for HTTPS, comma-separated)
# Example: CSRF_TRUSTED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com
CSRF_TRUSTED_ORIGINS=

# ============================================================
# Security Settings
# ============================================================

# Admin URL (Obfuscation - use random string in production)
# Default: superadmin
# Example: DJANGO_ADMIN_URL=secret-portal-x7k2m9p
DJANGO_ADMIN_URL=superadmin

# Password Requirements
PASSWORD_MIN_LENGTH=8  # Set to 12+ for production

# File Upload Limits (in bytes)
FILE_UPLOAD_MAX_MEMORY_SIZE=5242880  # 5MB
DATA_UPLOAD_MAX_MEMORY_SIZE=5242880  # 5MB

# SSL/HTTPS Settings (Enable for production)
SECURE_SSL_REDIRECT=False  # Set to True in production
SESSION_COOKIE_SECURE=False  # Set to True in production
CSRF_COOKIE_SECURE=False  # Set to True in production
SECURE_HSTS_SECONDS=0  # Set to 31536000 (1 year) in production

# Rate Limiting
RATELIMIT_ENABLE=True
RATELIMIT_REQUESTS_PER_MINUTE=60  # Requests per IP per minute

# Django Axes (Failed Login Protection)
AXES_ENABLED=True
AXES_FAILURE_LIMIT=5  # Lock account after X failed attempts
AXES_COOLOFF_TIME=1  # Lockout duration in hours

# Session Security
SESSION_COOKIE_AGE=3600  # Session timeout in seconds (1 hour)

# ============================================================
# Database Configuration
# ============================================================

# Use PostgreSQL for production (recommended)
USE_POSTGRESQL=False  # Set to True for production

# PostgreSQL Settings (if USE_POSTGRESQL=True)

DB_NAME=armguard_db
DB_USER=armguard_user
DB_PASSWORD=your-strong-database-password-here
DB_HOST=localhost
DB_PORT=5432

# ============================================================
# Logging Configuration
# ============================================================

# Log file paths (create directories first: mkdir logs)
SECURITY_LOG_PATH=logs/security.log
ERROR_LOG_PATH=logs/errors.log
DJANGO_LOG_PATH=logs/django.log

# ============================================================
# Email Configuration (Optional)
# ============================================================

# Email Backend
EMAIL_BACKEND=django.core.mail.backends.console.EmailBackend  # Use smtp.EmailBackend for production

# SMTP Settings (for production)
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=your-email@example.com
EMAIL_HOST_PASSWORD=your-email-app-password

# Email Addresses
DEFAULT_FROM_EMAIL=noreply@armguard.local
SERVER_EMAIL=noreply@armguard.local
ADMIN_NAME=Admin
ADMIN_EMAIL=admin@example.com

# ============================================================
# Admin Customization (Optional)
# ============================================================

ADMIN_SITE_HEADER=ArmGuard Administration
ADMIN_SITE_TITLE=ArmGuard Admin
ADMIN_INDEX_TITLE=ArmGuard Dashboard

# ============================================================
# Advanced Security (Optional)
# ============================================================

# IP Whitelist for Admin Access (comma-separated, leave empty to disable)
# Example: ADMIN_ALLOWED_IPS=192.168.1.100,10.0.0.50
ADMIN_ALLOWED_IPS=

# ============================================================
# Notes
# ============================================================
# 1. Always generate a new SECRET_KEY for production
# 2. Set DEBUG=False in production
# 3. Use PostgreSQL instead of SQLite for production
# 4. Enable all SSL/HTTPS settings when using HTTPS
# 5. Create 'logs' directory: mkdir logs
# 6. Protect .env file: chmod 600 .env
